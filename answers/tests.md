Тесты в отношении достаточно сложных проектов - это способ экономить на средней дистанции, гарантируя качество продукта. Ручное тестирование с ростом проекта становится более сложным, а автоматическое нет. Тестирование бывает:
* End-to-End (тестирование вручную или ботом готовой системы).
* Интеграционное (тестирование интерфейса в изоляции).
* Unit (модульные тесты).

## Про CI/CD
* Continuous integration (непрерывная интеграция) - весь код, который пишется командой, находится в одном репозитории. Каждый делает что-то в своей ветке, а потом отправляет код на ревью и все вливается в общий проект. После чего делаются автоматические деплой и тесты. В итоге: мы всегда знаем об ошибках до продакшена.

* Continuous delivery (непрерывная доставка) - автоматизированный CI. Проходит билд, проходят автоматизированные тесты. Единственное, что делается вручную - это подтверждение развертывания в продакшен.

* Continuous deployment (непрерывное развертывание) - автоматизированная доставка.

## Моки, стабы и шпионы

* Mock - это заглушка для зависимости. С помощью моков можно заменить реальную зависимость на фиктивную (функцию, которая, например, не будет ничего делать). Пример с компонентом React:
```
  const mockinitializeAppTC = jest.fn(), // создание мока для функции 'mockinitializeAppTC'
    props = { initializeAppTC: mockinitializeAppTC };

  it("dispatches the 'initializeAppTC()' method it receives from props", () => {
    const AppShallow = shallow(<App {...props} />);
    expect(mockinitializeAppTC).toHaveBeenCalledTimes(1); // проверка, был ли вызов 1 раз
  });
});
```
* Stub - это заглушка для данных, просто эмуляция результата/начальных данных.

* Spy - желательно не использовать. Применяется в случаях, когда код невозможно протестировать другими методами.
Создается фиктивная функция, которая отслеживает вызовы целевой.

## Jest
* Использование jest.mock, jest.requireActual и jest.fn.
```
import React, { useState } from 'react';
jest.mock('react', () => ({ ...jest.requireActual('react'), useState: jest.fn() }));
jest.mock('@sber/Component', () => ({ children }) => <div>{children}</div>);
```
* Полезные матчеры.
```
expect(['lime', 10]).toContain('lime');
```
* Для нескольких кейсов - beforeEach, beforeAll, afterEach, afterAll.
