## Пирамида тестирования
* E2E тестирование (тестирование вручную или ботом готовой системы).

* Интеграционные тесты (тестирование интерфейса в изоляции).

* Юнит-тесты (тестирование функций в изоляции).

## Про CI/CD
* Continuous integration (непрерывная интеграция) - весь код, который пишется командой, находится в одном репозитории. Каждый делает что-то в своей ветке, а потом отправляет код на ревью и все вливается в общий проект. После чего делаются автоматические деплой и тесты. В итоге: мы всегда знаем об ошибках до продакшена.

* Continuous delivery (непрерывная доставка) - автоматизированный CI. Единственное, что делается вручную - это подтверждение развертывания в продакшен.

* Continuous deployment (непрерывное развертывание) - автоматизированная доставка.

## Моки, стабы и шпионы

* Mock - это заглушка для зависимости. С помощью моков можно заменить реальную зависимость на фиктивную (функцию, которая, например, не будет ничего делать). Пример с компонентом React:
```
  const mockinitializeAppTC = jest.fn(), // создание мока для функции 'mockinitializeAppTC'
    props = { initializeAppTC: mockinitializeAppTC };

  it("dispatches the 'initializeAppTC()' method it receives from props", () => {
    const AppShallow = shallow(<App {...props} />);
    expect(mockinitializeAppTC).toHaveBeenCalledTimes(1); // проверка, был ли вызов 1 раз
  });
});
```
* Stub - это заглушка для данных, просто эмуляция результата/начальных данных.

* Spy - желательно не использовать. Применяется в случаях, когда код невозможно протестировать другими методами.
Создается фиктивная функция, которая отслеживает вызовы целевой.

## Jest
* Использование jest.mock, jest.requireActual и jest.fn.
```
import React, { useState } from 'react';
jest.mock('react', () => ({ ...jest.requireActual('react'), useState: jest.fn() }));
jest.mock('@sber/Component', () => ({ children }) => <div>{children}</div>);
```
* jext.fn().mockImplementation - функция, позволяющая задать тело для мок-фукции (передается первым параметром), которое будет срабатывать при вызове.
* jest.fn().mockReturnValue - функция, позволяющая передать первым параметром нужный нам ответ после вызова мок-фукции.
